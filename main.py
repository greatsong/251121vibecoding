import streamlit as st

# 기본 설정
st.set_page_config(
    page_title="MBTI 진로 상담소",
    page_icon="🎓",
    layout="centered"
)

# -------------------------
# 데이터 정의
# -------------------------
career_data = {
    "INTJ": {
        "nickname": "전략가 🧠",
        "summary": "먼 미래를 보고 체계적으로 계획하는 전략 설계자 타입이에요.",
        "careers": [
            ("데이터 사이언티스트 📊",
             "복잡한 데이터를 분석해서 미래를 예측하고 전략을 세우는 일을 잘할 수 있어요."),
            ("전략기획자 🗺️",
             "조직의 방향을 설계하고, 목표를 정하고, 실행 계획을 만드는 데 강점을 보여요."),
            ("연구원 🔬",
             "한 분야를 깊게 파고들며 새로운 지식을 만드는 역할이 잘 어울려요.")
        ]
    },
    "INTP": {
        "nickname": "아이디어 발명가 💡",
        "summary": "논리와 호기심으로 세상을 분석하는 탐구자 타입이에요.",
        "careers": [
            ("소프트웨어 엔지니어 💻",
             "복잡한 문제를 구조적으로 쪼개고, 효율적인 코드를 설계하는 데 강점이 있어요."),
            ("연구개발 엔지니어 ⚙️",
             "새로운 기술과 제품을 설계·실험하는 일을 즐길 가능성이 커요."),
            ("UX 리서처 🔍",
             "사람들이 제품을 어떻게 사용하는지 분석하고 개선 방향을 제안할 때 빛을 발해요.")
        ]
    },
    "INFJ": {
        "nickname": "통찰형 조언가 🌈",
        "summary": "사람과 의미를 중요하게 생각하는 깊이 있는 상담자 타입이에요.",
        "careers": [
            ("심리상담사 🛋️",
             "타인의 마음을 공감하고, 성장하도록 돕는 역할이 잘 어울려요."),
            ("교육 기획자 📚",
             "배움의 과정을 설계하고, 학생 성장에 도움이 되는 프로그램을 만들 수 있어요."),
            ("사회혁신 기획자 🤝",
             "사회문제를 발견하고, 사람 중심의 해결책을 설계하는 일에 적합해요.")
        ]
    },
    "INFP": {
        "nickname": "이상주의 스토리텔러 ✨",
        "summary": "가치와 의미를 좇으며, 감성을 담아 표현하는 타입이에요.",
        "careers": [
            ("작가 / 에디터 ✍️",
             "자신만의 세계관과 감성을 글로 풀어내는 데 강점을 가져요."),
            ("콘텐츠 크리에이터 📱",
             "영상·카드뉴스 등으로 메시지를 감성 있게 전달할 수 있어요."),
            ("사회복지사 💗",
             "도움이 필요한 사람들을 돌보며, 자신의 가치를 실천할 수 있어요.")
        ]
    },
    "ISTJ": {
        "nickname": "현실주의 관리자 📋",
        "summary": "책임감 있고 꼼꼼하게 일을 끝까지 수행하는 타입이에요.",
        "careers": [
            ("회계사 / 재무 담당자 💼",
             "숫자와 규칙을 다루는 반복적인 업무를 안정적으로 수행할 수 있어요."),
            ("공무원 🏛️",
             "정해진 규정 안에서 성실하게 일을 처리하는 데 강점을 보여요."),
            ("품질관리 엔지니어 🧰",
             "제품이나 서비스가 기준에 맞는지 꼼꼼하게 점검하는 역할이 잘 맞아요.")
        ]
    },
    "ISFJ": {
        "nickname": "따뜻한 수호자 🕊️",
        "summary": "조용하지만 주변 사람들을 세심하게 돌보는 타입이에요.",
        "careers": [
            ("간호사 / 보건 교사 🩺",
             "사람을 직접 돌보고 지지해 주는 역할에서 빛나요."),
            ("초·중등 교사 🍎",
             "학생 한 명 한 명을 세심하게 챙기며 믿음을 줄 수 있어요."),
            ("행정 실무자 🗂️",
             "조직이 잘 돌아가도록 뒤에서 꼼꼼하게 지원하는 일을 잘해요.")
        ]
    },
    "ISTP": {
        "nickname": "문제 해결 기술자 🛠️",
        "summary": "실제 문제를 손으로 만지며 해결하는 것을 좋아하는 타입이에요.",
        "careers": [
            ("기계 / 전자 엔지니어 🔧",
             "기계를 분해하고, 고치고, 더 좋게 만드는 일을 즐길 수 있어요."),
            ("보안 엔지니어 🔐",
             "시스템의 허점을 찾고 해결책을 제시하는 데 강점을 가져요."),
            ("응급구조사 🚑",
             "위기 상황에서 침착하게 문제를 해결하는 능력이 돋보일 수 있어요.")
        ]
    },
    "ISFP": {
        "nickname": "감성 아티스트 🎨",
        "summary": "조용하지만 예술과 감성을 통해 세상과 소통하는 타입이에요.",
        "careers": [
            ("디자이너 (UI/그래픽) 🖌️",
             "색감·구성 감각이 뛰어나 시각적으로 아름다운 결과물을 만들 수 있어요."),
            ("공예가 / 제품 디자이너 🧵",
             "손으로 무언가를 만들고, 감성을 담아 표현하는 일을 잘해요."),
            ("음악가 / 작곡가 🎵",
             "감정을 음악에 녹여내는 표현력이 강점이에요.")
        ]
    },
    "ENTJ": {
        "nickname": "카리스마 리더 🚀",
        "summary": "목표를 향해 사람과 자원을 이끄는 리더형 타입이에요.",
        "careers": [
            ("프로덕트 매니저 (PM) 📌",
             "여러 팀을 조율하며 하나의 제품을 성공으로 이끄는 역할이 잘 맞아요."),
            ("경영 컨설턴트 📊",
             "조직의 문제를 분석하고, 전략을 제안하는 데 강점을 가져요."),
            ("스타트업 창업가 💼",
             "위험을 감수하며 새로운 비즈니스를 이끄는 데 끌릴 수 있어요.")
        ]
    },
    "ENTP": {
        "nickname": "아이디어 플레이어 ⚡",
        "summary": "새로운 가능성을 떠올리고 토론을 즐기는 발명가 타입이에요.",
        "careers": [
            ("스타트업 기획자 🚀",
             "새로운 서비스와 비즈니스 모델을 떠올리고 실험하는 데 잘 맞아요."),
            ("마케팅 전략가 📣",
             "재치 있는 발상으로 사람들의 관심을 끌 전략을 만드는 데 강점이에요."),
            ("혁신 코치 / 퍼실리테이터 🧩",
             "팀이 창의적인 아이디어를 내도록 분위기를 이끌 수 있어요.")
        ]
    },
    "ENFJ": {
        "nickname": "영감을 주는 리더 🌟",
        "summary": "사람의 성장을 이끌고, 함께 변화를 만드는 타입이에요.",
        "careers": [
            ("교사 / 교육 코치 🎓",
             "학생들의 잠재력을 발견하고, 성장하도록 동기부여를 잘해요."),
            ("HRD / 조직 개발 담당자 🧭",
             "구성원의 성장을 돕는 교육·코칭 프로그램을 설계할 수 있어요."),
            ("비영리단체 활동가 🤲",
             "사회의 긍정적인 변화를 사람들과 함께 만들어가는 데 어울려요.")
        ]
    },
    "ENFP": {
        "nickname": "열정적인 모험가 🎈",
        "summary": "사람과 아이디어를 연결하며 에너지를 전파하는 타입이에요.",
        "careers": [
            ("크리에이티브 마케터 📺",
             "기발한 캠페인을 기획하고 사람들 마음을 움직이는 일을 잘해요."),
            ("교육 콘텐츠 크리에이터 🎥",
             "재미있게 배우는 영상·콘텐츠를 만드는 데 재능을 발휘할 수 있어요."),
            ("커뮤니티 매니저 🤝",
             "사람들을 모으고 분위기를 따뜻하게 만드는 역할이 어울려요.")
        ]
    },
    "ESTJ": {
        "nickname": "실행력 만렙 관리자 📊",
        "summary": "체계와 규칙을 중시하며 목표를 끝까지 밀어붙이는 타입이에요.",
        "careers": [
            ("프로젝트 매니저 🏗️",
             "일정을 관리하고, 사람과 자원을 조율해 결과를 만들어내는 데 강점이에요."),
            ("운영 관리자 🏭",
             "업무 프로세스를 효율적으로 설계하고 관리하는 역할이 어울려요."),
            ("학교 행정 / 교육행정가 🗃️",
             "교육 현장이 잘 돌아가도록 시스템을 관리하는 역할을 수행할 수 있어요.")
        ]
    },
    "ESFJ": {
        "nickname": "분위기 메이커 도우미 🌸",
        "summary": "사람 사이를 부드럽게 이어주는 따뜻한 조정자 타입이에요.",
        "careers": [
            ("교사 / 담임선생님 🧑‍🏫",
             "학생들의 생활을 세심하게 돌보고, 반 분위기를 따뜻하게 만들 수 있어요."),
            ("서비스·CS 매니저 ☎️",
             "고객의 마음을 이해하고 친절하게 응대하는 데 강점이에요."),
            ("이벤트 / 행사 기획자 🎉",
             "사람들이 즐거운 시간을 보내도록 세심하게 준비하는 일을 잘해요.")
        ]
    },
    "ESTP": {
        "nickname": "현장형 플레이어 🏃",
        "summary": "즉각적으로 움직이고, 몸으로 부딪히며 배우는 타입이에요.",
        "careers": [
            ("세일즈 / 영업 전문가 🤝",
             "사람을 직접 만나 설득하고, 상황에 맞게 유연하게 대처할 수 있어요."),
            ("스포츠 코치 / 트레이너 🏋️",
             "활동적인 환경에서 사람들의 성장을 돕는 일을 즐길 수 있어요."),
            ("현장 기술 영업 / 솔루션 엔지니어 🧳",
             "기술과 사람을 동시에 다루며 문제를 해결하는 데 강점이에요.")
        ]
    },
    "ESFP": {
        "nickname": "무대 위 엔터테이너 🎤",
        "summary": "즐거움을 나누고, 사람들 속에서 에너지를 얻는 타입이에요.",
        "careers": [
            ("MC / 진행자 / 아나운서 🎙️",
             "무대 위에서 분위기를 이끌고 사람들을 몰입시키는 역할이 어울려요."),
            ("공연·이벤트 기획자 🎭",
             "사람들이 즐길 수 있는 경험을 직접 기획하고 운영할 수 있어요."),
            ("관광·여행 기획자 ✈️",
             "즐거운 여행 경험을 디자인하며 사람들에게 행복을 나눌 수 있어요.")
        ]
    }
}

# -------------------------
# 사이드바
# -------------------------
with st.sidebar:
    st.markdown("### 🎓 MBTI 진로 상담소")
    st.markdown(
        "학생의 MBTI 유형을 선택하면, 그 유형과 잘 어울리는 **대표 진로 3가지**를 추천해줘요.\n\n"
        "💡 *참고*: MBTI는 성격 경향을 보는 도구일 뿐,\n"
        "진로를 '정답처럼' 고정하는 기준은 아니에요.\n\n"
        "학생의 **흥미, 가치관, 경험**과 함께 부드럽게 참고해 주세요 🙂"
    )

# -------------------------
# 메인 영역
# -------------------------
st.title("MBTI 진로 상담소 🎓")
st.caption("학생의 성격 유형에 어울리는 진로를 센스 있게 추천해주는 미니 웹앱입니다.")

st.markdown("---")

mbti_list = list(career_data.keys())
col1, col2 = st.columns([2, 1])

with col1:
    selected_mbti = st.selectbox(
        "학생의 MBTI를 선택해 주세요 😊",
        options=mbti_list,
        index=mbti_list.index("INFJ") if "INFJ" in mbti_list else 0
    )

with col2:
    st.markdown(" ")
    st.markdown("**TIP** 👉 학생과 함께\n유형 설명을 읽어보며 대화를 나눠보세요!")

show_btn = st.button("진로 추천 보기 ✨")

st.markdown("---")

# -------------------------
# 결과 출력
# -------------------------
if show_btn:
    info = career_data.get(selected_mbti)

    if info:
        st.subheader(f"{selected_mbti} | {info['nickname']}")
        st.markdown(f"> {info['summary']}")

        st.markdown("### 🔍 이 유형에게 어울리는 진로 3가지")

        for i, (job, desc) in enumerate(info["careers"], start=1):
            st.markdown(f"#### {i}. {job}")
            st.markdown(f"- {desc}")
            st.markdown("")

        st.markdown("---")
        st.markdown(
            "🧭 **상담 활용 아이디어**\n"
            "- 학생에게 ‘이 진로 중 어떤 것이 가장 끌리는지’ 물어보세요.\n"
            "- 왜 그 진로가 끌리는지, 어떤 점이 마음에 드는지 대화를 이어가 보세요.\n"
            "- MBTI 결과와 상관없이, 학생이 좋아하는 활동과 강점을 함께 정리해보면 좋아요 ✏️"
        )
    else:
        st.error("알 수 없는 MBTI 유형이에요. 다시 선택해 주세요! 😅")
else:
    st.info("왼쪽에서 MBTI를 선택하고 **‘진로 추천 보기 ✨’** 버튼을 눌러보세요!")  
